<div local-class="container">
  <div local-class="sidebar">
    {{#ko-entity-list/sidebar
      definitions=definitions
      currentPredicateCollections=currentPredicateCollections
      currentPropositionOperators=currentPropositionOperators
      currentCollectionOperator=currentCollectionOperator
      onPropositionsChange=(action 'changePropositions')
      onPropositionsRemoval=(action 'removePropositions')
      onPropositionsRemoveAll=(action 'removeAllPropositions')
      onPropositionOperatorChange=(action 'changePropositionOperator')
      onCollectionOperatorChange=(action 'changeCollectionOperator')
    }}
      {{t "search.user_list.user_attributes"}}
    {{/ko-entity-list/sidebar}}
  </div>
  <div local-class="sidebar-detail"></div>
  <div local-class="results">
    {{#if (and (not users.length) fetchUsers.isIdle)}}
      <div local-class="not-found">
        <div local-class="not-found-image">
          <img src="/images/empty-states/conversation.svg" width="462" height="262" alt="{{t 'cases.list.casesnotfound'}}">
        </div>
        <div local-class="not-found-message">
          {{t "users.user_list.no_results"}}
        </div>
      </div>
    {{else}}
      {{#if fetchUsers.isRunning}}
        <div local-class="title-loader">
          {{ko-loading/text-placeholder width="150px" height="22px"}}
        </div>
      {{else}}
        <div local-class="title">
          <h4 local-class="heading">
            <b>{{totalResults}}</b> {{t 'users.total_users'}}
          </h4>
        </div>
      {{/if}}

      {{ko-user-list/results
        users=users
        isLoading=fetchUsers.isRunning
      }}
      {{#unless fetchUsers.isRunning}}
        {{ko-pagination currentPage=page pageCount=totalPages}}
      {{/unless}}
    {{/if}}
  </div>
</div>
